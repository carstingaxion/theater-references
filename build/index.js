(()=>{"use strict";var e,r={898(){const e=window.wp.blocks,r=window.wp.i18n,t=window.wp.blockEditor,a=window.wp.components,n=window.wp.data,s=window.wp.element,l=window.ReactJSXRuntime,c=JSON.parse('{"UU":"telex/theater-references"}');(0,e.registerBlockType)(c.UU,{edit:function({attributes:e,setAttributes:c,clientId:o}){const{productionId:i,year:h,referenceType:f,headingLevel:_}=e,d=(0,n.useSelect)(e=>e("core").getEntityRecords("taxonomy","theater-productions",{per_page:-1})||[],[]);(0,s.useEffect)(()=>{const t=(()=>{const e=[];if(i>0){const r=d.find(e=>e.id===i);r&&e.push(r.name)}if(h&&e.push(h),"all"!==f){const t={ref_orga:(0,r.__)("Venues","theater-references"),ref_festival:(0,r.__)("Festivals","theater-references"),ref_award:(0,r.__)("Awards","theater-references")};e.push(t[f]||f)}return e.length>0?(0,r.__)("References: ","theater-references")+e.join(" â€¢ "):(0,r.__)("Theater References","theater-references")})();c({metadata:{...e.metadata,name:t}})},[i,h,f,d]);const p=Math.min(_+1,6),u=`h${_}`,v=`h${p}`,g={ref_orga:(0,r.__)("Guest Performances & Clients","theater-references"),ref_festival:(0,r.__)("Festivals","theater-references"),ref_award:(0,r.__)("Awards","theater-references")},w={2024:{ref_orga:[(0,r.__)("Royal Theater London","theater-references"),(0,r.__)("Vienna Burgtheater","theater-references")],ref_festival:[(0,r.__)("Edinburgh International Festival","theater-references")],ref_award:[(0,r.__)("Best Director Award","theater-references")]},2023:{ref_orga:[(0,r.__)("Berlin Staatstheater","theater-references")],ref_festival:[(0,r.__)("Avignon Festival","theater-references"),(0,r.__)("Salzburg Festival","theater-references")],ref_award:[]}},b=(()=>{if("all"===f)return w;const e={};return Object.keys(w).forEach(r=>{const t=w[r];t[f]&&t[f].length>0&&(e[r]={[f]:t[f]})}),e})();return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(t.InspectorControls,{children:(0,l.jsxs)(a.PanelBody,{title:(0,r.__)("Reference Settings","theater-references"),children:[(0,l.jsx)(a.SelectControl,{label:(0,r.__)("Production","theater-references"),value:i,options:[{label:(0,r.__)("Auto-detect (or all)","theater-references"),value:0},...d.map(e=>({label:e.name,value:e.id}))],onChange:e=>c({productionId:parseInt(e)}),help:(0,r.__)("Select a specific production or leave as auto-detect","theater-references")}),(0,l.jsx)(a.TextControl,{label:(0,r.__)("Year","theater-references"),value:h,onChange:e=>c({year:e}),help:(0,r.__)("Filter by specific year (e.g., 2017). Leave empty for all years.","theater-references"),type:"number"}),(0,l.jsx)(a.SelectControl,{label:(0,r.__)("Reference Type","theater-references"),value:f,options:[{label:(0,r.__)("All Types","theater-references"),value:"all"},{label:(0,r.__)("Guest Performances & Clients","theater-references"),value:"ref_orga"},{label:(0,r.__)("Festivals","theater-references"),value:"ref_festival"},{label:(0,r.__)("Awards","theater-references"),value:"ref_award"}],onChange:e=>c({referenceType:e}),help:(0,r.__)("Choose which type of references to display","theater-references")}),(0,l.jsx)(a.RangeControl,{label:(0,r.__)("Year Heading Level","theater-references"),value:_,onChange:e=>c({headingLevel:e}),min:1,max:5,help:(0,r.__)("Choose the heading level for year headings (H1-H5). Type headings will be one level smaller.","theater-references")})]})}),(0,l.jsx)("div",{...(0,t.useBlockProps)(),children:Object.keys(b).length>0?(0,l.jsx)(l.Fragment,{children:Object.keys(b).map(e=>{const r=b[e];return(0,l.jsxs)("div",{children:[(0,l.jsx)(u,{className:"references-year",children:e}),Object.keys(r).map(e=>{const t=r[e];return 0===t.length?null:(0,l.jsxs)("div",{children:[(0,l.jsx)(v,{className:"references-type",children:g[e]}),(0,l.jsx)("ul",{className:"references-list",children:t.map((e,r)=>(0,l.jsx)("li",{children:e},r))})]},e)})]},e)})}):(0,l.jsx)("p",{className:"no-references",children:(0,r.__)("No references found matching the selected criteria.","theater-references")})})]})}})}},t={};function a(e){var n=t[e];if(void 0!==n)return n.exports;var s=t[e]={exports:{}};return r[e](s,s.exports,a),s.exports}a.m=r,e=[],a.O=(r,t,n,s)=>{if(!t){var l=1/0;for(h=0;h<e.length;h++){for(var[t,n,s]=e[h],c=!0,o=0;o<t.length;o++)(!1&s||l>=s)&&Object.keys(a.O).every(e=>a.O[e](t[o]))?t.splice(o--,1):(c=!1,s<l&&(l=s));if(c){e.splice(h--,1);var i=n();void 0!==i&&(r=i)}}return r}s=s||0;for(var h=e.length;h>0&&e[h-1][2]>s;h--)e[h]=e[h-1];e[h]=[t,n,s]},a.o=(e,r)=>Object.prototype.hasOwnProperty.call(e,r),(()=>{var e={57:0,350:0};a.O.j=r=>0===e[r];var r=(r,t)=>{var n,s,[l,c,o]=t,i=0;if(l.some(r=>0!==e[r])){for(n in c)a.o(c,n)&&(a.m[n]=c[n]);if(o)var h=o(a)}for(r&&r(t);i<l.length;i++)s=l[i],a.o(e,s)&&e[s]&&e[s][0](),e[s]=0;return a.O(h)},t=globalThis.webpackChunktheater_references=globalThis.webpackChunktheater_references||[];t.forEach(r.bind(null,0)),t.push=r.bind(null,t.push.bind(t))})();var n=a.O(void 0,[350],()=>a(898));n=a.O(n)})();