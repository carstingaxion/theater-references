/**
 * GatherPress References Block Styles
 * 
 * Minimal defaults with CSS custom properties for easy theming.
 * Designed for maximum flexibility with minimal opinionated styling.
 * 
 * 
 * CSS Custom Properties (Customizable by theme):
 * --wp--custom--gatherpress-references--year-margin-top
 * --wp--custom--gatherpress-references--year-border-opacity
 * 
 * --wp--custom--gatherpress-references--type-margin-top
 * --wp--custom--gatherpress-references--type-border-opacity
 * 
 * --wp--custom--gatherpress-references--list-padding-left
 * --wp--custom--gatherpress-references--list-bullet-opacity
 */

.wp-block-gatherpress-references {
	/* Block Container */
	margin-block: var(--wp--preset--spacing--50, 1.5em);
	margin-inline: 0;

	/**
	 * Year Headings
	 */
	.references-year {
		margin-block-start: var(
			--wp--custom--gatherpress-references--year-margin-top,
			var(--wp--preset--spacing--50, 1.5em)
		);
		margin-block-end: var(--wp--preset--spacing--30, 0.75em);
		margin-inline: 0;
		padding: 0;

		border-block-end: 1px solid currentColor;
		opacity: var(
			--wp--custom--gatherpress-references--year-border-opacity,
			0.7
		);

		&:first-child {
			margin-block-start: 0;
		}
	}

	/**
	 * Type Headings
	 */
	.references-type {
		margin-block-start: var(
			--wp--custom--gatherpress-references--type-margin-top,
			var(--wp--preset--spacing--40, 1em)
		);
		margin-block-end: var(--wp--preset--spacing--20, 0.5em);
		margin-inline: 0;
		padding-inline-start: var(--wp--preset--spacing--20, 0.5em);

		border-inline-start: 2px solid currentColor;
		opacity: var(
			--wp--custom--gatherpress-references--type-border-opacity,
			0.8
		);
	}

	/**
	 * Reference Lists
	 */
	.references-list {
		list-style: none;
		margin-block: var(--wp--preset--spacing--20, 0.5em) var(--wp--preset--spacing--30, 1em);
		margin-inline: 0;
		padding-inline-start: var(
			--wp--custom--gatherpress-references--list-padding-left,
			var(--wp--preset--spacing--40, 1.5em)
		);

		li {
			position: relative;
			padding-block: var(--wp--preset--spacing--10, 0.25em);

			&::before {
				content: "â€¢";
				position: absolute;
				inset-inline-start: calc(
					var(
						--wp--custom--gatherpress-references--list-padding-left,
						var(--wp--preset--spacing--40, 1.5em)
					) * -1
				);
				color: currentColor;
				opacity: var(
					--wp--custom--gatherpress-references--list-bullet-opacity,
					0.3
				);
			}
		}
	}

	/**
	 * Responsive
	 */
	@media (max-width: 781px) {
		.references-year {
			// font-size: var(--wp--preset--font-size--medium, 1.25em);
		}

		.references-list {
			padding-inline-start: var(--wp--preset--spacing--30, 1em);
		}
	}

	/**
	 * Print
	 */
	@media print {
		margin-block: 1em;

		.references-year,
		.references-type {
			page-break-after: avoid;
		}

		.references-list li {
			page-break-inside: avoid;
		}
	}
}